/**
 * ES6 Proxy Polyfill
 * @version 2.0.0
 * @author Ambit Tsai <ambit_tsai@qq.com>
 * @license Apache-2.0
 * @see {@link https://github.com/ambit-tsai/es6-proxy-polyfill}
 */
!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof module&&module.exports?module.exports=n():t.Proxy=n()}(this,function(){if(this.Proxy)return this.Proxy;var r,s="[[ProxyTarget]]",o="[[ProxyHandler]]",c="[[Get]]",f="[[Set]]",p="[[Call]]",a="[[Construct]]",h=this.Object,y=h.keys&&/\[native code\]/.test(h.keys.toString());function e(t,n){if(this instanceof e)return i(t,n).proxy;g("Constructor Proxy requires 'new'")}function i(t,n){v(t)&&v(n)||g("Cannot create proxy with a non-object as target or handler");var e=new l(t,n);return{proxy:("function"==typeof t?function i(e){var r=e[s];function o(){return this instanceof o?e[a](arguments,o):e[p](this,arguments)}for(var t in o.prototype=r.prototype,P(o,d(r)),r)b(r,t)&&(y?function(n){var t=h.getOwnPropertyDescriptor(r,n);h.defineProperty(o,n,{get:function(){return e[c](n,o)},set:function(t){e[f](n,t,o)},enumerable:t.enumerable,configurable:t.configurable})}(t):o[t]=r[t]);return o}:function u(e){for(var r,o=e[s],t=x(o),i={},n=t.length-1;0<=n;--n)!function(n){var t=h.getOwnPropertyDescriptor(o,n);i[n]={get:function(){return e[c](n,r)},set:function(t){e[f](n,t,r)},enumerable:t.enumerable,configurable:t.configurable}}(t[n]);return r=w(d(o),i)})(e),revoke:function(){e[s]=r,e[o]=r}}}function l(t,n){this[s]=t,this[o]=n}function u(t,n){n||g("Cannot perform '"+t+"' on a proxy that has been revoked")}function g(t){throw new TypeError(t)}function v(t){return t&&("object"==typeof t||"function"==typeof t)}function b(t,n){return h.prototype.hasOwnProperty.call(t,n)}e.revocable=function(t,n){return this instanceof e.revocable&&g("Proxy.revocable is not a constructor"),i(t,n)},l.prototype[c]=function(t,n){return u("get",this[o]),this[o].get==r?this[s][t]:"function"==typeof this[o].get?this[o].get(this[s],t,n):void g("Trap 'get' is not a function: "+this[o].get)},l.prototype[f]=function(t,n,e){if(u("set",this[o]),this[o].set==r)this[s][t]=n;else if("function"==typeof this[o].set){this[o].set(this[s],t,n,e)||g("Trap 'set' returned false for property '"+t+"'")}else g("Trap 'set' is not a function: "+this[o].set)},l.prototype[p]=function(t,n){return u("apply",this[o]),this[o].apply==r?this[s].apply(t,n):"function"==typeof this[o].apply?this[o].apply(this[s],t,n):void g("Trap 'apply' is not a function: "+this[o].apply)},l.prototype[a]=function(t,n){var e;if(u("construct",this[o]),this[o].construct==r?e=function i(t,n){for(var e=[],r=0,o=n.length;r<o;++r)e.push("args["+r+"]");return new Function("Constructor","args","return new Constructor("+e.join(", ")+")")(t,n)}(this[s],t):"function"==typeof this[o].construct?e=this[o].construct(this[s],t,n):g("Trap 'construct' is not a function: "+this[o].construct),v(e))return e;g("Trap 'construct' returned non-object: "+e)};var d=y?h.getPrototypeOf:function(t){return t.__proto__},P=h.setPrototypeOf||function(t,n){return t.__proto__=n,t},x=y?h.getOwnPropertyNames:function(t){var n=[];for(var e in t)b(t,e)&&n.push(e);return n},w=y?h.create:function(t,n){return h.defineProperties({},n)};return e});