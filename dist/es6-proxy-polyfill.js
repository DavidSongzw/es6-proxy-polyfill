/**
 * ES6 Proxy Polyfill
 * @version 2.0.0
 * @author Ambit Tsai <ambit_tsai@qq.com>
 * @license Apache-2.0
 * @see {@link https://github.com/ambit-tsai/es6-proxy-polyfill}
 */
!function(t,n){"function"==typeof define&&define.amd?define(n(t)):"object"==typeof module&&module.exports?module.exports=n(t):t.Proxy||(t.Proxy=n(t))}("object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof global&&global||"object"==typeof self&&self||this,function(t){var u,f="[[ProxyTarget]]",a="[[ProxyHandler]]",s="[[Get]]",p="[[Set]]",y="[[Call]]",l="[[Construct]]",r=t.Object,h=r.defineProperty,v=r.defineProperties,g=r.getPrototypeOf,b=r.getOwnPropertyDescriptor,d=!!v&&/\[native code\]/.test(v.toString());function o(t,n){if(this instanceof o)return e(t,n).proxy;P("Constructor Proxy requires 'new'")}function e(t,n){x(t)&&x(n)||P("Cannot create proxy with a non-object as target or handler");var r=new w(t,n);return{proxy:("function"==typeof t?function c(t){var n=t[f];function r(){return this instanceof r?t[l](arguments,r):t[y](this,arguments)}if(r.prototype=n.prototype,d){var o=O(t),e=m(g(n),o);for(var i in T(r,e),o=_(n,t))j(r,i)&&delete o[i];v(r,o)}else C(r,n);return r}:t instanceof Array?function e(r){var t,n,o=r[f];d&&((t=O(r)).concat.get=function(){var t=r[s]("concat",this);return t===Array.prototype.concat?t.bind(o):t},n=m(g(o),t));return(t=_(o,r)).length.set=function(t){var n=t>o.length;r[p]("length",t,this),n&&function i(t,n){var r=n[f];for(var o in t)if(!(o in r)){var e=b(t,o);h(r,o,e),e=k(r,o,n),h(t,o,e)}}(this,r)},m(n,t)}:function i(t){var n,r,o=t[f];d&&(n=O(t),r=m(g(o),n));return n=_(o,t),m(r,n)})(r),revoke:function(){r[f]=u,r[a]=u}}}function w(t,n){this[f]=t,this[a]=n}function c(t,n){t||P("Cannot perform '"+n+"' on a proxy that has been revoked")}function P(t){throw new TypeError(t)}function x(t){return t&&("object"==typeof t||"function"==typeof t)}function j(t,n){return r.prototype.hasOwnProperty.call(t,n)}o.revocable=function(t,n){return this instanceof o.revocable&&P("Proxy.revocable is not a constructor"),e(t,n)},w.prototype[s]=function(t,n){var r=this[a];return c(r,"get"),r.get==u?this[f][t]:"function"==typeof r.get?r.get(this[f],t,n):void P("Trap 'get' is not a function: "+r.get)},w.prototype[p]=function(t,n,r){var o=this[a];if(c(o,"set"),o.set==u)this[f][t]=n;else if("function"==typeof o.set){o.set(this[f],t,n,r)||P("Trap 'set' returned false for property '"+t+"'")}else P("Trap 'set' is not a function: "+o.set)},w.prototype[y]=function(t,n){var r=this[a];return c(r,"apply"),r.apply==u?this[f].apply(t,n):"function"==typeof r.apply?r.apply(this[f],t,n):void P("Trap 'apply' is not a function: "+r.apply)},w.prototype[l]=function(t,n){var r,o=this[a];if(c(o,"construct"),o.construct==u?r=function i(t,n){for(var r=[],o=0,e=n.length;o<e;++o)r.push("args["+o+"]");return new Function("Ctor","args","return new Ctor("+r.join(", ")+")")(t,n)}(this[f],t):"function"==typeof o.construct?r=o.construct(this[f],t,n):P("Trap 'construct' is not a function: "+o.construct),x(r))return r;P("Trap 'construct' returned non-object: "+r)};var i=r.getOwnPropertyNames||function(t){var n=[];for(var r in t)j(t,r)&&n.push(r);return n},T=r.setPrototypeOf||function(t,n){return t.__proto__=n,t},m=d?r.create:function(t,n){return v({},n)},C=r.assign||function(t,n){for(var r in n)j(n,r)&&(t[r]=n[r]);return t};function O(t){for(var n={},r=t[f];r=g(r);){var o=_(r,t);C(n,o)}return n}function _(t,n){for(var r=i(t),o={},e=r.length-1;0<=e;--e)o[r[e]]=k(t,r[e],n);return o}function k(t,n,r){var o=b(t,n);return{get:function(){return r[s](n,this)},set:function(t){r[p](n,t,this)},enumerable:o.enumerable,configurable:o.configurable}}return o});